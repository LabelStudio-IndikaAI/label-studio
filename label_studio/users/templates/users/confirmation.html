{% extends 'users/user_base.html' %}
{% load static %}

{% block user_content %}
<style>
    /* Add the CSS for error highlighting */
    .error-border {
        border: 2px solid red;
    }
    .error-message {
        color: red;
        font-weight: bold;
        margin: 10px 0;
        text-align: center;
    }
    .logo-image {
        width: 250px;
        height: auto;
        z-index: 2;
    }
</style>
<script type="text/javascript">
    history.pushState(null, null, location.href);
    window.onpopstate = function() {
        history.go(1);
    };
</script>

<div class="container mx-auto h-full flex justify-center items-center">
    <div class="w-1/3">
        <img src="{{ settings.HOSTNAME }}{% static 'images/Screenshot 2023-09-14 133842.9af3b5e17701.jpg' %}" alt="Data Studio Logo" class="logo-image">
        <br>
        <div class="border-teal p-8 border-t-12 bg-white mb-6 rounded-lg shadow-lg">

            <!-- Error Display -->
            {% if form.password.errors %}
            <div class="border-red-500 p-8 border-t-12 bg-red-100 mb-6 rounded-lg shadow-lg">
                <h2 class="text-red-700 font-bold mb-4">Error!</h2>
                {% for error in form.password.errors %}
                    <p class="error-message">{{ error }}</p>
                {% endfor %}
            </div>
            {% endif %}
            
            <!-- Success Message -->
            {% if messages %}
            {% for message in messages %}
            <div class="border-green-500 p-8 border-t-12 bg-green-100 mb-6 rounded-lg shadow-lg">
                <h2 class="text-green-700 font-bold mb-4">Success!</h2>
                <p class="text-green-600">
                    {{ message }}
                </p>
            </div>
            {% endfor %}
            {% endif %}
            
            <!-- Back to login section -->
            <div class="text-center mt-4">
                <p class="text-grey-dark text-sm">
                    <a href="{% url 'user-login' %}" class="no-underline text-blue font-bold">Login</a>
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
